<!DOCTYPE html>
<html>
  <head>
    <title>CCC Samples - Bar</title>

    <meta name="svg.render.forceflash" content="true">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="cdf/Base.js"></script>
    <script type="text/javascript" src="cdf/jquery.js"></script>
    <script type="text/javascript" src="cdf/jquery.tooltip.js"></script>
    <script type="text/javascript" src="data/q01-01.js"></script>
    <script type="text/javascript" src="lib/protovis-d3.3.js"></script>
    <script type="text/javascript" src="lib/protovis-msie.js"></script>
    <script type="text/javascript" src="lib/jquery.tipsy.js"></script>
    <script type="text/javascript" src="lib/tipsy.js"></script>
    <link type="text/css" href="lib/tipsy.css" rel="stylesheet"/>
        <script type="text/javascript" src="def/def.js"></script>

    
    <!-- @SCRIPTSBEG@ -->
        <script type="text/javascript" src="pvc/pvc.js"></script>
        <script type="text/javascript" src="pvc/pvc.text.js"></script>
        <script type="text/javascript" src="pvc/pvc.color.js"></script>
        <script type="text/javascript" src="pvc/data/_data.js"></script>
        <script type="text/javascript" src="pvc/data/meta/DimensionType.js"></script>
        <script type="text/javascript" src="pvc/data/meta/ComplexType.js"></script>
        <script type="text/javascript" src="pvc/data/translation/TranslationOper.js"></script>
        <script type="text/javascript" src="pvc/data/translation/MatrixTranslationOper.js"></script>
        <script type="text/javascript" src="pvc/data/translation/CrosstabTranslationOper.js"></script>
        <script type="text/javascript" src="pvc/data/translation/RelationalTranslationOper.js"></script>
        <script type="text/javascript" src="pvc/data/Atom.js"></script>
        <script type="text/javascript" src="pvc/data/Complex.js"></script>
        <script type="text/javascript" src="pvc/data/ComplexView.js"></script>
        <script type="text/javascript" src="pvc/data/Datum.js"></script>
        <script type="text/javascript" src="pvc/data/Dimension.js"></script>
        <script type="text/javascript" src="pvc/data/Data.js"></script>
        <script type="text/javascript" src="pvc/data/Data.load.js"></script>
        <script type="text/javascript" src="pvc/data/Data.selected.js"></script>
        <script type="text/javascript" src="pvc/data/GroupingSpec.js"></script>
        <script type="text/javascript" src="pvc/data/DataOper.js"></script>
        <script type="text/javascript" src="pvc/data/GroupingOper.js"></script>
        <script type="text/javascript" src="pvc/data/Data.operations.js"></script>
        <script type="text/javascript" src="pvc/data/Data.compat.js"></script>
        <script type="text/javascript" src="pvc/visual/Role.js"></script>
        <script type="text/javascript" src="pvc/visual/Scene.js"></script>
        <script type="text/javascript" src="pvc/visual/sign/Sign.js"></script>
        <script type="text/javascript" src="pvc/visual/sign/Dot.js"></script>
        <script type="text/javascript" src="pvc/visual/sign/Line.js"></script>
        <script type="text/javascript" src="pvc/visual/sign/Area.js"></script>
        <script type="text/javascript" src="pvc/visual/sign/Bar.js"></script>
        <script type="text/javascript" src="pvc/visual/sign/Rule.js"></script>
        <script type="text/javascript" src="pvc/visual/Context.js"></script>
        <script type="text/javascript" src="pvc/visual/CartesianAxis.js"></script>
        <script type="text/javascript" src="pvc/pvcAbstract.js"></script>
        <script type="text/javascript" src="pvc/pvcBaseChart.js"></script>
        <script type="text/javascript" src="pvc/pvcBasePanel.js"></script>
        <script type="text/javascript" src="pvc/pvcMultiChartPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcTitlePanel.js"></script>
        <script type="text/javascript" src="pvc/pvcLegendPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcTimeseriesAbstract.js"></script>
        <script type="text/javascript" src="pvc/pvcCartesianAbstract.js"></script>
        <script type="text/javascript" src="pvc/pvcGridDockingPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcCartesianGridDockingPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcCartesianAbstractPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcCategoricalAbstract.js"></script>
        <script type="text/javascript" src="pvc/pvcAxisPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcPieChart.js"></script>
        <script type="text/javascript" src="pvc/pvcBarAbstractPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcBarAbstract.js"></script>
        <script type="text/javascript" src="pvc/pvcBarPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcBarChart.js"></script>
        <script type="text/javascript" src="pvc/pvcNormalizedBarPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcNormalizedBarChart.js"></script>
        <script type="text/javascript" src="pvc/pvcWaterfallPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcWaterfallChart.js"></script>
        <script type="text/javascript" src="pvc/pvcLineDotAreaPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcLineDotArea.js"></script>
        <script type="text/javascript" src="pvc/pvcHeatGridChart.js"></script>
        <script type="text/javascript" src="pvc/pvcMetricXYAbstract.js"></script>
        <script type="text/javascript" src="pvc/pvcMetricLineDotPanel.js"></script>
        <script type="text/javascript" src="pvc/pvcMetricLineDot.js"></script>
        <script type="text/javascript" src="pvc/pvcBulletChart.js"></script>
        <script type="text/javascript" src="pvc/pvcParallelCoordinates.js"></script>
        <script type="text/javascript" src="pvc/pvcDataTree.js"></script>
        <script type="text/javascript" src="pvc/data/translation/BoxplotChartTranslationOper.js"></script>
        <script type="text/javascript" src="pvc/pvcBoxplotChart.js"></script>
    <!-- @SCRIPTSEND@ -->
    
    <link type="text/css" rel="stylesheet" href="cdf/jquery.tooltip.css"/>
    <link type="text/css" rel="stylesheet" href="pvcComponent.css"/>
        
    <script type="text/javascript" src="pvcDocUtils.js"></script>
  </head>
  <body>

    <h1>
      Bar Chart
    </h1>
Bar charts are used for plotting data which has discrete values. The lengths of the bars are
proportional to the values that they represent.

<h2>Chart Options</h2>
<h4>Dimensions</h4>
<ul>
  <li>width</li>
  <li>height</li>
  <li>margins -
      css-like margins shorthand syntax (without units) or object with properties 'all', 'top', 'bottom', 'left' and/or 'right'.
      Margins consume the chart's width and height (inside margins).
  </li>
</ul>
<h4>Title properties</h4>
<ul>
  <li>title</li>
  <li>titlePosition</li>
  <li>titleSize</li>
</ul>
<h4>Lifecycle</h4>
<ul>
  <li>renderCallback - executed immediatly before render is called</li>
</ul>
<h4>Legend properties</h4>
<ul>
  <li>legend (true|false)</li>
  <li>legendPosition (right, top, bottom, left)</li>
  <li>legendAlign (right, left, center, top, middle, bottom)</li>
  <li>legendSize</li>
  <li>legendDrawLine (true|false)</li>
  <li>legendDrawMarker (true|false)</li>
  <li>showTooltips (true|false)</li>
</ul>
<h4>Bar properties</h4>
<ul>
  <li>orientation (horizontal | vertical)</li>
  <li>showValues (true|false)</li>
  <li>stacked (true|false)</li>
  <li>panelSizeRatio - Ratio of occupied vs total size of category band. Default: 0.9 (90%)</li>
  <li>barSizeRatio - In multiple series, percentage of inner band occupied by bars. Default: 0.9 (90%)</li>
  <li>maxBarSize - Maximum size of a bar in pixels.</li>
  <li>barStackedMargin - Margin that separates (stacked) bars, in pixels. Default: 0</li>
</ul>
<h4>Line properties</h4>
<ul>
  <li>showLines - Show or hide lines. Default: true</li>
  <li>showDots - Show or hide dots. Default: false</li>
  <li>showAreas - Show or hide areas. Default: false</li>
  <li>nullInterpolationMode (none | linear) - Interpolation mode for lines. Default: 'none'</li>
</ul>
<h4>Axis properties</h4>
<ul>
  <li>show{X,Y}Scale (true | false) - whether to show an axis. Default: true</li>
  <li>secondAxis (true | false) - whether to show the second axis. Default: false</li>
  <li>xAxisPosition (bottom | top) - the position of the X axis. Default: bottom</li>
  <li>yAxisPosition (left | right) - the position of the Y axis. Default: left</li>
  <li>{x,y}AxisSize - the size of <i>free dimension</i> of an axis (X: height, Y: width). Default: 50</li>
  <li>{x,y}AxisFullGrid (true | false) - show lines on all (major) ticks, except the first and the last. Default: false</li>
  <li>{x,y}AxisEndLine (true | false) - show a line on the last (major) tick. Default: false</li>
  <li>{x,y,second}AxisTitle - The axis title text. Default: null</li>
  <li>{x,y,second}AxisTitleFont - The axis title font. Default: '10px sans-serif'</li>
  <li>{x,y,second}AxisTitleSize - The size of the axis title.
      The size is the width when the axis is vertical and the height when it is horizontal.
      The title consumes space from the specified {x|y|second}AxisSize.
      Default: The required by the font height plus a proportional margin.</li>
  <li>{x,y,second}AxisDomainRoundMode (none | nice | tick) - rounding mode of the domain bounds of a linear scale axis. Default: none</li>
  <li>{x,y,second}AxisDesiredTickCount - desired number of (major) ticks of a linear scale axis. Default: 5</li>
  <li>{x,y,second}AxisMinorTicks (true|false) - show minor ticks on a linear scale axis. Default: true</li>
  <li>secondAxisIdx - Array of indexes of the series that are shown as lines.</li>
  <li>secondAxisIndependentScale (true | false) - if the second axis has an independent scale</li>
  <li>secondAxisOriginIsZero (true | false) - if the second axis should show the 0 value at the origin. Default: true</li>
  <li>secondAxisColor - line and scale color. Default: blue</li>
</ul>


<h2>Extension Points</h2>
The following&nbsp;list&nbsp;serves as the basis
for&nbsp;Bar extension points:
<ul>
  <li>base_</li>
  <li>title_</li>
  <li>titleLabel_</li>
  <li>legendArea_</li>
  <li>legendPanel_</li>
  <li>legendRule_</li>
  <li>legendDot_</li>
  <li>legendLabel_</li>
  <li>{x,y,second}Axis_</li>
  <li>{x,y,second}AxisRule_</li>
  <li>{x,y,second}AxisGrid_</li>
  <li>{x,y,second}AxisScale_</li>
  <li>{x,y,second}AxisTicks_</li>
  <li>{x,y,second}AxisMinorTicks_</li>
  <li>{x,y,second}AxisEndLine_</li>
  <li>{x,y,second}AxisLabel_</li>
  <li>{x,y,second}AxisTitleLabel_</li>
  <li>tooltip_</li>
  <li>barLabel_</li>
  <li>barPanel_</li>
  <li>bar_</li>
  <li>barUnderflowMarker_</li>
  <li>barOverflowMarker_</li>
  <li>chart_</li>
</ul>

Sample extension points:<br>

<ul>
  <li>bar_fillStyle: for setting the bars fill colors.</li>
  <li>bar_strokeStyle and bar_lineWidth: for setting the stroke
color&nbsp;and thickness.</li>
  <li>titleLabel_font</li>
  <li>yAxisRule_strokeStyle</li>
  <li>barLabel_textAngle</li>
  <li>xAxisScale_dateTickPrecision</li>
</ul>

<h2>Examples</h2>
<h3>A simple Bar chart</h3>
For drawing a very simple bar chart, just provide the data and set the orientation of the bars.<br>  

<textarea cols="55" rows="15" id="pvcBar1Code">
var bar1 = new pvc.BarChart({
    canvas: "pvcBar1",
    width: 400,
    height: 250,
    title: "Sample Bar chart",
    orientation: 'horizontal',
    animate:false,
    selectable: true,
    hoverable: true,
    orthoAxisFixedMax: 60,
    //yAxisFullGrid: true,
    extensionPoints: {
    //    yAxisTicks_strokeStyle: "black"
    }
});

bar1.setData(relational_03,{
    crosstabMode: false,
    seriesInRows: false
});
bar1.render();
</textarea>
        <button id="pvcBar1TryMe" class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar1"></div>

<h3>A Rich Bar chart</h3>
A simple bar chart can be enhanced by setting properties to the panel, bars, axis or legends.<br>

<textarea cols="55" rows="15" id="pvcBar2Code">
var bar2 = new pvc.BarChart({
    canvas: "pvcBar2",
    width: 400,
    height: 250,
    title: "Sample Bar chart",
    titlePosition:"left",
    orientation: 'horizontal',
    stacked: false,
    animate:false,
    clickable: true,
    selectable: true,
    hoverable: true,
    legend: true,
    legendPosition: "right",
    showValues: false,
    showXScale: true,
    showYScale: true,
    //orthoAxisFixedMin: 10,
    //orthoAxisFixedMax: 40,
    //originIsZero: false,
    //axisOffset: 0.04,
    yAxisPosition: "left",
    yAxisSize: 70,
    xAxisPosition: "bottom",
    xAxisSize: 20,
    xAxisFullGrid: true,
    yAxisFullGrid: true,
    xAxisEndLine:  true,
    yAxisEndLine:  true,
    extensionPoints: {
        //bar_fillStyle:pv.colors("#BF4630","#FF5D40","#FF8973"),
        bar_lineWidth:1,
        //bar_strokeStyle:"#000",
        title_fillStyle: "lightBlue",
        titleLabel_font: "16px sans-serif",
        title_strokeStyle: "black",
        
        legend_fillStyle: "green",
        allTimeseries_fillStyle: "blue",
        xAxis_fillStyle: "#eee",
        yAxis_fillStyle: "#bbb",
        yAxisRule_strokeStyle:"blue"
    }
});

bar2.setData(relational_01, {
    crosstabMode: false,
    seriesInRows: false
});
bar2.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar2"></div>


        <h3>A Bar chart with negative values</h3>
<textarea cols="55" rows="15" id="pvcBar2bCode">
var bar2b = new pvc.BarChart({
    canvas: "pvcBar2b",
    width:  400,
    height: 300,
    title: "Bar chart with negative values",
    stacked: false,
    animate: true,
    clickable: true,
    selectable: true,
    hoverable: true,
    legend: true,
    legendPosition: "right",
    showValues: false,
    baseAxisSize: 70,
    axisFullGrid: true,
    axisEndLine:  true,
    axisDomainRoundMode: 'tick',
    axisZeroLine: true,
    baseAxisOffset:  0.04,
    orthoAxisOffset: 0.04,
    extensionPoints: {
    	xAxisLabel_textAngle: -1,
    	xAxisLabel_textAlign: "right",
    	xAxisLabel_textBaseline: "top"
    }
});

bar2b.setData(relational_01_neg, {
    crosstabMode: false,
    seriesInRows: false
});
bar2b.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar2b"></div>

<h3>A Stacked Bar chart</h3>
You can represent a third dimension of data through a stack bar chart. In this way, a single bar on the chart can show data for more than one category of data.<br>
To draw a stacked bar just set the stacked property to true. To a better understanding of the chart, consider configuring the Legend.<br>
<textarea cols="55" rows="15" id="pvcBar3Code">
var bar3 = new pvc.BarChart({
    canvas: "pvcBar3",
    width: 400,
    height: 250,
    title: "Stacked Bar Chart",
    orientation: 'vertical',
    stacked: true,
    animate:false,
    clickable: true,
    selectable: true,
    hoverable: true,
    xAxisSize: 60,
    yAxisDomainRoundMode:"tick",
    legend:true,
    legendPosition:"right",
    orthoAxisFixedMax: 130,
    extensionPoints: {
    	xAxisLabel_textAngle: -1,
    	xAxisLabel_textAlign: "right",
    	xAxisLabel_textBaseline: "top"
    }
});

bar3.setData(relational_01,
    {crosstabMode: false,
     seriesInRows: false});
bar3.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar3"></div>

        <h3>A stacked bar chart with negative values</h3>
<textarea cols="55" rows="15" id="pvcBar3bCode">
var bar3b = new pvc.BarChart({
    canvas: "pvcBar3b",
    width:  400,
    height: 300,
    title: "Stacked bar chart with negative values",
    stacked: true,
    animate: true,
    clickable: true,
    selectable: true,
    hoverable: true,
    legend: true,
    legendPosition: "right",
    showValues: false,
    baseAxisSize: 70,
    axisFullGrid: true,
    axisEndLine:  true,
    axisZeroLine: true,
    axisDomainRoundMode: 'tick',
    baseAxisOffset:  0.04,
    orthoAxisOffset: 0.04,
    extensionPoints: {
    	xAxisLabel_textAngle: -1,
    	xAxisLabel_textAlign: "right",
    	xAxisLabel_textBaseline: "top"
    }
});

bar3b.setData(relational_01_neg, {
    crosstabMode: false,
    seriesInRows: false
});
bar3b.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar3b"></div>

<h3>An horizontal Stacked Bar chart</h3>
The stacked bar chart of the previous example, but with an 'horizontal' orientation.<br>
<textarea cols="55" rows="24" id="pvcBar4Code">
var bar4 = new pvc.BarChart({
    canvas: "pvcBar4",
    width:  400,
    height: 400,
    title:  "Stacked Bar Chart - Horizontal",
    orientation: 'horizontal',
    stacked: true,
    animate: false,
    legend:  true,
    legendPosition: "right",
    xAxisDomainRoundMode:"tick",
    yAxisSize: 70
});

bar4.setData(relational_01,{
    crosstabMode: false,
    seriesInRows: false
});
		
bar4.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar4"></div>

        <h3>A stacked bar chart with line series</h3>
<textarea cols="55" rows="15" id="pvcBar6Code">
var bar6 = new pvc.BarChart({
    canvas: "pvcBar6",
    width:  400,
    height: 300,
    title: "Stacked bar chart with line series",
    stacked: true,
    secondAxis: true,
    secondAxisIndependentScale: true,
    //secondAxisSeriesIndexes: -1,
    //secondAxisSeriesIndexes: [0,1],
    //secondAxisOwnColors: true,
    //secondAxisColor: ['orange', 'pink'],
    //legendDrawLine: true,legendDrawMarker: true,
    animate: true,
    clickable: true,
    selectable: true,
    hoverable: true,
    legend: true,
    legendPosition: "right",
    showValues: false,
    baseAxisSize: 70,
    axisFullGrid: true,
    axisEndLine:  true,
    axisZeroLine: true,
    axisDomainRoundMode: 'tick',
    axisOffset:  0.04,
    extensionPoints: {
    	xAxisLabel_textAngle: -1,
    	xAxisLabel_textAlign: "right",
    	xAxisLabel_textBaseline: "top"
    }
});

bar6.setData(relational_01_neg, {
    crosstabMode: false,
    seriesInRows: false
});
bar6.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar6"></div>

<h3>Yet Another Stacked Bar chart</h3>

Consumes crosstab data and contains null values<br>
<textarea cols="55" rows="24" id="pvcBar5Code">
var bar5 = new pvc.BarChart({
    canvas: "pvcBar5",
    width:  700,
    height: 400,
    orientation:"vertical",
    animate: false,
    legend:true,
    legendPosition: "bottom",
    legendAlign:"center",
    stacked:true,
    selectable:true,
    hoverable: true,
    yAxisSize:50,
    yAxisDomainRoundMode:"tick",
    panelSizeRatio:0.8,
    barSizeRatio:0.9,
    maxBarSize:100,
    showValues: false
});

bar5.setData(crosstab_02,{
    crosstabMode: true,
    seriesInRows: false
});

bar5.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar5"></div>

  </body>
</html>
