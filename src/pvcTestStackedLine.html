<!DOCTYPE html>
<html>
  <head>
    <title>CCC Samples - Stacked Line Chart</title>

    <meta name="svg.render.forceflash" content="true">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="cdf/Base.js"></script>
    <script type="text/javascript" src="cdf/jquery.js"></script>
    <script type="text/javascript" src="cdf/jquery.tooltip.js"></script>
    <script type="text/javascript" src="data/q01-01.js"></script>
    <script type="text/javascript" src="lib/protovis-d3.3.js"></script>
    <script type="text/javascript" src="lib/protovis-msie.js"></script>
    <script type="text/javascript" src="lib/jquery.tipsy.js"></script>
    <script type="text/javascript" src="lib/tipsy.js"></script>
    <link type="text/css" href="lib/tipsy.css" rel="stylesheet"/>

    <script type="text/javascript" src="pvc/pvc.js"></script>
    <script type="text/javascript" src="pvc/pvcDatum.js"></script>
    <script type="text/javascript" src="pvc/pvcDataDimension.js"></script>
    <script type="text/javascript" src="pvc/pvcDataElement.js"></script>
    <script type="text/javascript" src="pvc/pvcDataTranslator.js"></script>
    <script type="text/javascript" src="pvc/pvcData.js"></script>
    <script type="text/javascript" src="pvc/pvcAbstract.js"></script>
    <script type="text/javascript" src="pvc/pvcBaseChart.js"></script>
    <script type="text/javascript" src="pvc/pvcBasePanel.js"></script>
    <script type="text/javascript" src="pvc/pvcTitlePanel.js"></script>
    <script type="text/javascript" src="pvc/pvcLegendPanel.js"></script>
    <script type="text/javascript" src="pvc/pvcTimeseriesAbstract.js"></script>
    <script type="text/javascript" src="pvc/pvcCategoricalAbstract.js"></script>
    <script type="text/javascript" src="pvc/pvcCategoricalAbstractPanel.js"></script>
    <script type="text/javascript" src="pvc/pvcAxisPanel.js"></script>
    <script type="text/javascript" src="pvc/pvcWaterfall.js"></script>
    <script type="text/javascript" src="pvc/pvcPie.js"></script>
    <script type="text/javascript" src="pvc/pvcBar.js"></script>
    <script type="text/javascript" src="pvc/pvcLine.js"></script>
    
    <link type="text/css" rel="stylesheet" href="cdf/jquery.tooltip.css"/>
    <link type="text/css" rel="stylesheet" href="pvcComponent.css"/>
        
    <script type="text/javascript" src="pvcDocUtils.js"></script>
  </head>
  <body>

    <h1>
      Stacked Line Chart
    </h1>
A stacked line chart is an line chart in which lines do not overlap because they are cumulative at each point.
This way, what you see is the trend of the contribution of each value over time.

<h2>Chart Options</h2>
<h4>Dimensions</h4>
<ul>
  <li>width</li>
  <li>height</li>
</ul>
<h4>Title properties</h4>
<ul>
  <li>title</li>
  <li>titlePosition</li>
  <li>titleSize</li>
</ul>
<h4>Lifecycle</h4>
<ul>
  <li>renderCallback - executed immediately before render is called</li>
</ul>
<h4>Legend properties</h4>
<ul>
  <li>legend (true|false)</li>
  <li>legendPosition (right, top, bottom, left)</li>
  <li>legendAlign (right, left, center, top, middle, bottom)</li>
  <li>legendSize</li>
  <li>legendDrawLine (true|false)</li>
  <li>legendDrawMarker (true|false)</li>
  <li>showTooltips (true|false)</li>
</ul>
<h4>Data properties</h4>
<ul>
  <li>timeSeries (true| false)</li>
  <li>timeSeriesFormat. For example: "%Y-%m-%d"</li>
</ul>
<h4>Stacked Line chart properties</h4>
<ul>
  <li>orientation - horizontal or vertical. Default: vertical</li>
  <li>showDots - Show or hide dots. Default: false</li>
  <li>showValues - Show or hide line value. Default: false</li>
  <li>panelSizeRatio - Ratio of the band occupied by the pane.
Default: 0.5 (50%)</li>
  <li>stacked - Stacked? Default: true</li>
  <li>lineSizeRatio - In multiple series, percentage of inner band occupied by lines. Default: 0.5 (50%)</li>
  <li>maxLineSize - Maximum size of a line in pixels. Default:
2000</li>
</ul>
<h4>Axis properties</h4>
<ul>
  <li>show{X,Y}Scale (true | false) - whether to show an axis. Default: true</li>
  <li>xAxisPosition (bottom | top) - the position of the X axis. Default: bottom</li>
  <li>yAxisPosition (left | right) - the position of the Y axis. Default: left</li>
  <li>{x,y}AxisSize - the size of <i>free dimension</i> of an axis (X: height, Y: width). Default: 30</li>
  <li>{x,y}AxisFullGrid (true | false) - show lines on all (major) ticks, except the first and the last. Default: false</li>
  <li>{x,y}AxisEndLine (true | false) - show a line on the last (major) tick. Default: false</li>
  <li>{x,y}AxisDomainRoundMode (none | nice | tick) - rounding mode of the domain bounds of a linear scale axis. Default: none</li>
  <li>{x,y}AxisDesiredTickCount - desired number of (major) ticks of a linear scale axis. Default: 5</li>
  <li>{x,y}AxisMinorTicks (true|false) - show minor ticks on a linear scale axis. Default: true</li>
</ul>

<h2>Extension Points</h2>
The following&nbsp;list&nbsp;serves as the basis
for&nbsp;Line chart extension points:
<ul>
  <li>base_</li>
  <li>title_</li>
  <li>titleLabel_</li>  
  <li>xAxis_</li>
  <li>yAxis_</li>
  <li>xAxisRule_</li>
  <li>yAxisRule_</li>
  <li>xAxisGrid_</li>
  <li>yAxisGrid_</li>
  <li>xAxisTicks_</li>
  <li>yAxisTicks_</li>
  <li>xAxisMinorTicks_</li>
  <li>yAxisMinorTicks_</li>
  <li>xAxisEndLine_</li>
  <li>yAxisEndLine_</li>
  <li>tooltip_</li>
  <li>chart_ - for the main chart Panel</li>
  <li>line_ - for the actual line</li>
  <li>linePanel_ - for the panel where the lines are</li>
  <li>lineDot_ - the dots on the line</li>
  <li>lineLabel_ - for the main line label</li>
</ul>
Sample extension points:<br>
<ul>
  <li>base_fillStyle</li>
  <li>titleLabel_font</li>
  <li>line_lineWidth</li>
</ul>

<h2>Examples</h2>
<h3>A Simple Stacked Line chart</h3>
The following is a simple chart with three stacked lines.<br>
<textarea cols="55" rows="15" id="pvcLine1Code">
        var stackedLine1 = new pvc.StackedLineChart({
          canvas: "pvcStackedLine1",
          width: 400,
          height: 200,
          animate: false,
          title: "A simple stacked line chart",
          legend: true,
          legendAlign: "right",
          orientation: 'vertical',
          timeSeries: true,
          timeSeriesFormat: "%Y-%m-%d",
        });
        stackedLine1.setData(relational_01,
                    {crosstabMode: false,
                     seriesInRows: false});
        stackedLine1.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcStackedLine1"></div>

<h3>A Decorated Stacked Line chart</h3>
You can enhance a stacked line chart by changing the properties for the different elements: the lines, the dots, the grids, etc.<br>
<textarea cols="55" rows="15" id="pvcLine2Code">
        var stackedLine2 = new pvc.StackedLineChart({
          canvas: "pvcStackedLine2",
          width: 400,
          height: 200,
          animate: false,
          title: "STACKED LINE CHART - Timeseries with extra options",
          titlePosition: "top",
          titleSize: 40,
          legend: true,
          legendPosition: "top",
          legendAlign: "right",

          orientation: 'vertical',
          timeSeries: true,
          timeSeriesFormat: "%Y-%m-%d",

          showValues: false,
          showDots: true,
          yAxisSize: 30,
          xAxisSize: 30,
          xAxisFullGrid: true,
          yAxisFullGrid: true,
          extensionPoints: {
            titleLabel_font: "14px serif",
            titleLabel_textStyle:"#015c65",
            dot_fillStyle: "white",
            dot_shape: "diamond",
            dot_lineWidth: 1.5,
            dot_shapeRadius: 2,
            line_lineWidth: 0.5
          }
        });
        stackedLine2.setData(relational_01,
                            {crosstabMode: false,
                             seriesInRows: false});
        stackedLine2.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcStackedLine2"></div>

  </body>
</html>
